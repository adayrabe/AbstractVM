
#include <iostream>
#include "IOperand.hpp"
#include "CreateOperand.hpp"
#include <stack>
#include "AbstractVM.hpp"
#include <float.h>
int main() {
	std::cout << "Hello world" << std::endl;

//	IOperand temp;
	std::string str = "5";
	std::stack <IOperand const*> st;
	std::stack <int> s;
	CreateOperand t;
//	st.push(t.createOperand(eOperandType::Int8, "53758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465537586578657645786456746546535436543564563564353564353535643655445645345243524324532453456789076543678654367896547854786756785764675465465367547645896547896545768976545768975457685457865455764547545786547586475856475865475865645758456465564564564455465464654654655375865786576457864567465465354365435645635643535643535356436554456453452435243245324534567890765436786543678965478547867567857646754654653675476458965478965457689765457689754576854578654557645475457865475864758564758654758656457584564655645645644554654646546546553758657865764578645674654653543654356456356435356435353564365544564534524352432453245345678907654367865436789654785478675678576467546546536754764589654789654576897654576897545768545786545576454754578654758647585647586547586564575845646556456456445546546465465465"));
	long double tt = LDBL_MAX;
	std::cout << tt << std::endl;
//	std::cout << st.top()->toString() << std::endl;
	AbstractVM vm;
	vm.push(t.createOperand(eOperandType::Double, "5.3"));
	vm.push(t.createOperand(eOperandType::Int8, "125"));
	vm.push((t.createOperand(eOperandType::Double, "25.0")));

	vm.push(t.createOperand(eOperandType::Int16, "5"));

	vm.push(t.createOperand(eOperandType::Double, "10.0"));

	vm.dump();
	vm.pop();
	vm.dump();
//	vm.assertV(t.createOperand(eOperandType::Double, "250.0"));
//	vm.add();
	vm.div();
	vm.push(t.createOperand(eOperandType::Int8, "49"));
	vm.dump();

//	vm.exit();

	vm.print();

	AbstractVM other;// = (vm);
	other.push(t.createOperand(eOperandType::Int8, "90"));
	other.dump();
	other = (vm);
	other.push(t.createOperand(eOperandType::Int8, "110"));
	other.dump();
	vm.dump();
//	system("leaks avm");
	return 0;
}